<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="piedra pepel o tijera " content="width=device-width, initial-scale=1.0">
    <title>piedra pepel o tijera</title>
    <script>
        //1 es piedra, 2 es pepel, 3 es tijera
        let jugador = 0;
        let elecjugador = 0;
        let pc = 0;
        let elecpc = 0;
        let resultado = 0;
        function aleatorio(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        let triunfo = 0;
        let perdidas = 0;
        
        
            
         
        

        while (triunfo < 3 && perdidas < 3) {

                function eleccion(jugada) {
                let resultado = "";
                if (jugada == 1) {
                    resultado = "piedra";
                }
                else if (jugada == 2) {
                    resultado = "papel";
                }
                else if (jugada == 3) {
                    resultado = "tijera";
                }
                else {
                    resultado = "error";
                }
                return resultado;
                
            }

            jugador = prompt("Elige una opciÃ³n 1.piedra 2.papel  3.tijera ")
            pc = aleatorio(1, 3);
            alert("El pc elije= " + eleccion(pc))
            alert("Jugador elige= " + eleccion(jugador))
                
            
            
            
        // Combate
            function combate(jugador, pc) {
                if (jugador == pc) {
                    return 0;
                }
                else if (jugador == 1 && pc == 2) {
                    return 1, ganador;
                }
                else if (jugador == 2 && pc == 1) {
                    return -1, ganador;
                }
                else if (jugador == 3 && pc == 1) {
                    return -2, ganador;
                }
                else if (jugador == 1 && pc == 3) {
                    return 2, ganador;
                }
                else if (jugador == 2 && pc == 3) {
                    return 1, ganador;
                }
                else if (jugador == 3 && pc == 2) {
                    return -1 , ganador;
                }
            }
        // Fin de combate
        result = combate(jugador, pc)

        function ganador (result) {
        
            if (result == 0){
                return alert ("empate");
            }
            else if (result == -1 || result == 2){
                triunfo = triunfo +1;
                alert("El jugador gana");
                
            }
            else {
                perdidas = perdidas +1;
                return alert ("El PC gana");
                 
            }
        }

        alert(ganador(result));

            if (triunfo == 3){
                alert("El jugador es el mejor de tres ");
                
            }
            else if (perdidas == 3){
                alert("El PC es el mejor de tres");
                
            }
        }


       
    </script>

    </head>
<body>
    <h1>piedra pepel o tijera</h1>
    
</body>
</html>